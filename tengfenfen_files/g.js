/* sohutv 2017-03-23 16:24:56 */
var _e=function(){};"undefined"!=typeof console&&console.info&&(_e=function(t){console.info(t)}),function(t,e){function n(t){t=t||{},this.config=r(t,v),this.subTree={t:{},h:[]},this.pubItems={}}if(!t.MessageBus){var i=1,o=Object.prototype.toString,r=function(t,e){if(t)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t},a=function(t){return(t||"")+i++},s=function(t){throw new Error(t)},c=function(t){s("illegalTopic:"+t)},l=function(t){(!t||!t.length||"[object String]"!=o.call(t)||/\*{2}\.\*{2}/.test(t)||/([^\.\*]\*)|(\*[^\.\*])/.test(t)||/(\*\*\.\*)|(\*\.\*\*)/.test(t)||/\*{3}/.test(t)||/\.{2}/.test(t)||"."==t[0]||"."==t[t.length-1])&&c(t)},u=function(t){var e=/[^a-zA-Z0-9-_\.\*]/.exec(t);e&&s("illegalCharactor:"+e[1])},h=function(t){(!t||!t.length||"[object String]"!=o.call(t)||-1!=t.indexOf("*")||"."==t[0]||/\.{2}/.test(t)||"."==t[t.length])&&c(t)},p=function(t,e,n,i){e=e||null;for(var r,a,s=function(t,e,n,i){var o=!0;e[n]=i,t[n]=!0;for(var r in t)if(!t[r]){o=!1;break}return o},c=function(t,e){for(var n in t)t[n]=!1},l=0,u=n.length;u>l;l++)r=n[l],!r||"undefined"!=typeof i&&r.pubId===i||(r.pubId=i,a=r.config,a&&a._topics?s(a._topics,a.topics,t,e)&&(c(a._topics,a.topics),r.h.call(r.scope,t,a.topics,r.data)):(r.execedTime++,"[object Number]"==o.call(r.config.execTime)&&r.execedTime>=r.config.execTime&&(n[l]=null),r.h.call(r.scope,t,e,r.data)))},f=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]&&t[n].sid==e){t[n]=null;break}},d=function(t,e){return t==e||"**"==e?!0:(e=e.replace(/\.\*\*\./g,"(((\\..+?\\.)*)|\\.)"),e=e.replace(/^\*\*\./,"(.+?\\.)*"),e=e.replace(/\.\*\*$/,"(\\..+?)*"),e=e.replace(/\.\*\./g,"(\\..+?\\.)"),e=e.replace(/^\*\./g,"(.+?\\.)"),e=e.replace(/\.\*$/g,"(\\..+?)"),new RegExp(e).test(t))},m=function(t,e){var n=[];for(var i in e)d(i,t)&&n.push({topic:i,value:e[i]});return n},v={cache:!0};r(n.prototype,{version:"1.0",subscribe:function(e,n,i,o,r){l(e),u(e),i=i||t,r=r||{};var s=a(),c={h:n,scope:i,data:o,sid:s,execedTime:0,config:r},h=e.split("."),f=0,d=h.length;if(function(t,e,n,i){var o=t[e];e==t.length?i.h.push(n):(i.t[o]||(i.t[o]={t:{},h:[]}),arguments.callee.call(this,t,++e,n,i.t[o]))}(h,0,c,this.subTree),this.config.cache&&r.cache){var v=m(e,this.pubItems);for(f=0,d=v.length;d>f;f++)p(v[f].topic,v[f].value,[c])}return e+"^"+s},publish:function(t,e){h(t),u(t),this.pubItems[t]=e;var n=t.split(".");!function(t,e,n,i,o,r,a){var s=t[e];e==t.length?p(o,i,a&&a.isWildcard?n.t["**"].h:n.h,r):(n.t["**"]&&(n.t["**"].t[s]?arguments.callee.call(this,t,e+1,n.t["**"].t[s],i,o,r,{index:e,tree:n}):arguments.callee.call(this,t,e+1,n,i,o,r,{isWildcard:!0})),n.t[s]?arguments.callee.call(this,t,e+1,n.t[s],i,o,r):a&&!a.isWildcard&&arguments.callee.call(this,t,++a.index,a.tree,i,o,r,a),n.t["*"]&&arguments.callee.call(this,t,e+1,n.t["*"],i,o,r))}(n,0,this.subTree,e,t,a())},unsubscribe:function(t){for(var e=this,n=function(t){var t=t.split("^");2!=t.length&&s("illegal sid:"+t);var n=t[0].split("."),i=t[1];!function(t,e,n,i){var o=t[e];e==t.length?f(n.h,i):n.t[o]&&arguments.callee.call(this,t,++e,n.t[o],i)}(n,0,e.subTree,i)},t=t.split(";"),i=0,o=t.length;o>i;i++)n(t[i])},wait:function(t,e,n,i,r){if("[object Array]"===o.call(t)&&t.length){r=r||{},r.topics={},r._topics={};for(var a,s=[],c=0,l=t.length;l>c;c++)a=t[c],h(t[c]),r.topics[a]=null,r._topics[a]=!1;for(c=0;l>c;c++)s.push(this.subscribe(t[c],e,n,i,r));return s.join(";")}}}),t.messagebus=new n,t.MessageBus=n}}(window,void 0),function(t,e){"undefined"==typeof t.sohuHD&&(t.sohuHD={}),sohuHD.newversion="20120331",sohuHD.day=86400,sohuHD.hour=3600,sohuHD.sec=60,sohuHD.cache={},sohuHD.winboxArr={},sohuHD.now=(new Date).getTime(),sohuHD.waitAjaxCall={},sohuHD.waitAjaxCall.login=[],sohuHD.waitAjaxCall.logout=[],sohuHD.waitAjaxCall.userParms=[],function(n){var i=!!document.all,o=!!t.ActiveXObject&&!t.XMLHttpRequest,r=i&&"prototype"in Image,a=navigator.userAgent;n.isIE=i,n.isIE6=o,n.isIE7=i&&!o&&!r,n.isIE8=r,n.isIE9=e.browser.msie&&"9.0"==e.browser.version,n.isOpera=e.browser.opera,n.isSafari=e.browser.safari,n.isFirefox=e.browser.mozilla,n.isIpad=/ipad/i.test(a),n.isIphone=/iphone|ipod/i.test(a),n.isAndroid=/android/i.test(a)}(sohuHD),function(t){t.series=function(t,e){e=e||function(){};var n,i,o,r=function(){return n},a=function(s){if(null!=s||n>=i)return void e(s,o);var c=r(),l=t[c];n++,"function"==typeof l?l(function(t,e){o[c]=e,a(t)}):(o[c]=l,a())};if(t.constructor===Array)n=0,i=t.length,o=[],r=function(){return n};else{var s=[];for(var c in t)s.push(c);n=0,i=s.length,o={},r=function(){return s[n]}}a()}}(sohuHD),sohuHD.random=function(){var t=[],e=0,n=this;switch(arguments.length){case 0:return n.now+=1,n.now;case 1:t=arguments[0];break;case 2:t=arguments[0],e=arguments[1]}if(!(t instanceof Array))throw new Error("sohuHD.random need Array arguments");var i=t.length,o=[];if("number"==typeof e&&e>0){e>=i&&(e=i);for(var r=0;i>r;++r)o.push(t[r]);return o.sort(function(){return Math.floor(2*Math.random())}),o.slice(0,e)}return t[Math.floor(Math.random()*i)]},sohuHD.getScript=function(t,e,n,i,o){var r=document.getElementsByTagName("head")[0]||document.documentElement,a=document.createElement("script");a.src=t,a.charset=n||"GBK",o=o||[];var s=!1;a.onload=a.onreadystatechange=function(){s||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(s=!0,e&&e.apply(this,o),a.onload=a.onreadystatechange=null,i&&(a.onerror=i),r&&a.parentNode&&r.removeChild(a))},r.insertBefore(a,r.firstChild)},sohuHD.crossdomainPost=function(t){var n=[],i=function(){};t.indexOf("?")>-1&&(n=t.split("?")[1]),n.length&&n.indexOf("&")&&(n=n.split("&"));var o=[],r=null;e(n).each(function(t,e){r=e.split("="),o.push('<input name="',r[0],'" value="',r[1]||"",'" />')}),arguments.length&&(n=arguments[0],"function"==typeof n&&(i=n,n={}),arguments[1]&&(i=arguments[1]));for(var a in n)o.push('<input name="',a,'" value="',n[a],'" />');var s=e(['<div class="d-n"><form action="',t,'" method="POST" target="hideFrame">',o.join(""),"</form>",'<iframe name="hideFrame" /></div>'].join(""));e("body").append(s),s.children("form").submit(),setTimeout(i,800)},sohuHD.timeFromNow=function(t){var e=(new Date).getTime();t>e&&(e=t),t=(e-parseInt(t))/1e3;var n=parseInt(t)+"\u79d2\u524d";return 0==t?"\u6b63\u5728\u64ad\u653e":t>=this.day?Math.floor(t/this.day)+"\u5929\u524d":t>=this.hour?Math.floor(t/this.hour)+"\u5c0f\u65f6\u524d":t>=this.sec?Math.floor(t/this.sec)+"\u5206\u524d":n},sohuHD.transPlayTime=function(t){if(t>0){var e=[],n=Math.floor(t/60),i=t-60*n;return e.push(n/10>=1?n+"\u5206":"0"+n+"\u5206"),e.push(i/10>=1?i+"\u79d2":"0"+i+"\u79d2"),e.join("")}return"00\u520600\u79d2"},sohuHD.strSub=function(t,e,n,i){var o=/[^\x00-\xff]/g;if(n=n||!1,i=i||"...",e>0&&t.replace(o,"mm").length>e)for(var r=Math.floor(e/2),a=r;a<t.length;a++)if(t.substr(0,a).replace(o,"mm").length>=e)return t.substr(0,a)+(n?i:"");return t},sohuHD.redirect=function(e,n,i){if(document.all){var o=document.createElement("a");o.onclick=null,o.href=e,n&&(o.target=n),document.body.appendChild(o),o.click()}else if(n){t.open(e)}else location.href=e},sohuHD.focusClear=function(t){t.length&&t.each(function(t,n){n._old=n.value,e(n).focus(function(){var t=e.trim(this.value);t==this._old&&(this.value="",this.style.color="#000")}).blur(function(){var t=e.trim(this.value);""==t&&(this.value=this._old,this.style.color="")})})},sohuHD.wordLimit=function(e,n){if(e.length&&n.length)for(var i=0;i<e.length;++i){var o=e.eq(i),r=n.eq(i),a=o.val().length,s=o.attr("maxlength");r.html(s);var c=function(){var t=o.val(),e=t.length;a!=e&&(a=t.length,t==o[0]._old&&(a=0),s>=a?r.html(s-a).removeClass("error"):r.html(s-a).addClass("error"))};o.bind({focus:function(){o[0].timer=setInterval(c,200)},blur:function(){clearInterval(o[0].timer),o[0].timer=null}}),sohuHD.isIE&&"TEXTAREA"==o[0].tagName&&o.bind("keypress paste",function(e){var n=this.value.length,i=s-n,o=document.selection.createRange().text.length;if("keypress"==e.type){if(e.which>32&&e.which<127&&!e.metaKey&&0>=i&&0==o)return!1}else if("paste"==e.type){var r=t.clipboardData.getData("Text");n-o+r.length>s&&t.clipboardData.setData("Text",r.substring(0,s-(n-o)))}})}},sohuHD.lazyImage=function(t,e,n){e=e||0,setTimeout(function(){var e=t.getAttribute("lazySrc");if(e){var i=document.createElement("img");i.onload=function(){t.className=t.className.replace(/ lazy/i,""),t.src=this.src,n&&n.call(t,arguments)},i.src=e}},1e3)},sohuHD.eventProxy=function(t,n,i,o){return i=e.extend({hasClass:{},hasId:{},hasTag:{},hasAttr:{}},i),e(t).bind(n,function(t){var n=t.target,r=i.hasId[n.id]||i.hasClass[n.className]||i.hasTag[n.nodeName.toLowerCase()]||null,a="nomatch";return r?a=r.call(n,t):e.each(i.hasAttr,function(o){return e(n).attr(o)?(a=i.hasAttr[o].call(n,t),!1):void 0}),"nomatch"===a?!0:0===o?a:void 0!==a?a||!1:void t.preventDefault()}),i},sohuHD.pingback=function(t){var e=new Image,n=(new Date).getTime();t.indexOf("?")>-1?e.src=[t,"&_=",n].join(""):e.src=[t,"?_=",n].join(""),e=n=null},e.fn.eventProxy=function(t,e,n){return this.each(function(){sohuHD.eventProxy(this,t,e,n)})},sohuHD.loadFlv=function(t,e,n,i,o,r){var a=new Date;e+="?"+a.getTime(),i=i||"0",o=o||"0",n=n||"#000000";var s=[];return document.all?(s.push('<object name="'+t+'" id="'+t+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+i+'" height="'+o+'">'),s.push('<param name="movie" value="'+e+'" />'),s.push('<param name="bgcolor" value="'+n+'" />'),s.push('<param name="quality" value="high" />'),s.push('<param name="allowScriptAccess" value="always" />'),s.push("</object>")):s.push('<embed id="'+t+'" name="'+t+'" allowScriptAccess="always" type="application/x-shockwave-flash" src="'+e+'" width="'+i+'" height="'+o+'" bgcolor="'+n+'" quality="high" />'),r&&document.getElementById(r)?void(document.getElementById(r).innerHTML=s.join("")):s.join("")},sohuHD.switchTab=function(t,n){if(t.length){n=n||{};var i=n.event||"mouseover",o=n.cssName||"current",r=new RegExp(o),a=n.callback||null,s=n.boxs||[],c=n.next||"",l=n.prev||"",u=s.length>1,h=0;Math.abs(n.start)>0&&(h=n.start);var p=n.auto||!1;t.n=0,u&&s.hide();var f=function(){v(t[t.n>=t.length-1?0:t.n+1])},d=function(){v(t[t.n<=0?t.length-1:t.n-1])};c&&e(c).click(f),l&&e(l).click(d);var m;p&&(m=setInterval(f,5e3),s.add(t).hover(function(){clearInterval(m)},function(){m=setInterval(f,5e3)}));var v=function(n){var i=n.n;n=e(n),r.test(n.attr("class"))||(n.addClass(o),i!=t.n&&t.eq(t.n).removeClass(o),u&&(s.eq(t.n).hide(),s.eq(i).show()),t.n=i,n.blur(),a&&a(n,u?s.eq(i):s))};t.each(function(t,n){e(n).removeClass(o),n.n=t,t==h&&v(n)}),"mouseover"==i&&t.hover(function(){var t=this;t.timer=setTimeout(function(){v(t)},100)},function(){clearTimeout(this.timer),this.timer=null}),t.click(function(t){this.getAttribute("disabled")||(v(this),t.preventDefault())})}},sohuHD.closeBlock=function(){sohuHD.boxtimer&&(clearTimeout(sohuHD.boxtimer),sohuHD.boxtimer=null),e("#winBoxOverlay,#sohuHDWinBox").hide()},sohuHD.block=function(n,i){if(i=i||{},!this.hasBlockCss&&!i.noCss){var o=document.getElementsByTagName("head")[0],r=document.createElement("link");r.href="//tv.sohu.com/upload/jq_plugin/block/block.css",r.rel="stylesheet",r.type="text/css",o.appendChild(r),this.hasBlockCss=!0}var a=i.cssName||"win_box";e("#sohuHDWinBox").length&&e("#winBoxOverlay,#sohuHDWinBox").remove();var s=i.minWidth,c=i.minHeight;caption=i.caption||"\u5c0f\u63d0\u793a";var l=[];if(i.fullHtml)l=['<div class="',a,'" id="sohuHDWinBox" style="z-index:9999;position:absolute;"><div class="inner">','<span class="win_close" title="\u5173\u95ed"></span>',i.fullHtml];else{l=['<div class="',a," ",i.msgType?i.msgType:"",'" id="sohuHDWinBox" style="z-index:9999;"><div class="inner">'],l.push('<div class="win_box_content">'),i.caption&&l.push('<div class="win_box_caption"><span class="win_close" title="\u5173\u95ed"></span>',i.caption,"</div>");var u={ok:"win_box_succ",error:"win_box_err",tip:"win_box_tip",title:"win_box_title"};l.push('<p class="',u[i.msgType||"title"],'">',n,"</p>"),l.push(i.addHtml||""),i.noButton||(l.push('<div class="win_box_bts"><a class="w_submit">\u786e \u5b9a</a>'),i.handler&&!i.redirect?l.push('<a class="w_cancel">\u53d6 \u6d88</a>'):i.autohide=i.autohide||3e3,l.push("</div>")),l.push("</div>")}l.push("</div></div>"),e(document.body).append(l.join(""));var h=e("#sohuHDWinBox");h.width(),h.height(),e(t).scrollTop();h.eventProxy("click",{hasClass:{w_submit:function(){i.handler&&(i.handler(),i.handler=null),sohuHD.closeBlock()},w_cancel:function(){sohuHD.closeBlock()},win_close:function(){sohuHD.closeBlock()}}});var p=function(){h.css({width:s||(sohuHD.isIE?"300":"auto"),height:c||"auto"}),h.css({top:e(t).scrollTop()+e(t).height()/2-h.height()/2,left:e(document.body).width()/2-h.width()/2+e(t).scrollLeft()});var n=e(document.body).width(),o=e(document.body).height();if(e("#winBoxOverlay").length&&e("#winBoxOverlay").remove(),i.noOverLay){var r=h.offset();e("body").append(['<div id="winBoxOverlay" style="z-index:9000;position:absolute;top:',r.top,"px;left:",r.left,"px;width:",h.width(),"px;height:",h.height(),'px;" class="win_box_overlay"><iframe style="width:',h.width(),"px;height:",h.height(),'px;" frameBorder="0"></iframe></div>'].join(""))}else e("body").append(['<div id="winBoxOverlay" style="z-index:9000;position:absolute;top:0;left:0;width:',n,"px;height:",o,'px;" class="win_box_overlay"><iframe style="width:',n,"px;height:",o,'px;" frameBorder="0"></iframe></div>'].join(""))};return h.show(),p(),h.find("textarea").length>0&&h.addClass("wb_txt"),i.autohide&&(sohuHD.boxtimer=setTimeout(function(){sohuHD.closeBlock(),i.handler&&(i.handler(),i.handler=null)},i.autohide)),p},sohuHD.getHistory=function(){var t="";if(!this.hisCookie){if(t=e.cookie("savehistory"),!t)return[];this.hisCookie=t.split("%2C")}t=this.hisCookie;var n,i,o=[];n=t?t.length:0;for(var r=0;n>r;++r)i=t[r].split("^"),o.push({pid:i[0],vid:i[1],order:i[2],newTime:i[3],timeSpace:this.timeFromNow(i[7]),url:i[5],nurl:i[8],playTime:parseInt(i[7]),title:unescape(i[6])});return o.reverse()};var n=sohuHD.isIE6;sohuHD.closeWin=function(t){var n=this.winboxArr||{};for(var i in n)n[i].closeWin();t&&t(),e("#hideForLoginBox").append(sohuHD.loginBox)},sohuHD.showWin=function(i){var o=this;if(!(o instanceof sohuHD.showWin)){i.showOnce=!0;var r=new o.showWin(i);return void r.initWin(!0)}void 0==i?i={}:"string"==typeof i&&(i={htmlStr:i});var a=i.showOnce||!1;o.onWinBoxShowed=i.onWinBoxShowed||function(){},o.html=i.htmlStr||"",o.initMask=function(){o.winmask&&o.winmask.remove();var t=e("body").width(),r=e("body").height(),a=['<div style="width:',t,"px;height:",r,"px;position:absolute;z-index: 998;","background:",i.maskColor||"#FFF",";opacity:0.8;",sohuHD.isIE?"filter:alpha(opacity=80);":"",'"></div>'];n&&a.push('<iframe style="width:',t,"px;height:",r,'px;" frameBorder="0" allowTransparency="true"></iframe>'),o.winmask=e(a.join("")),e("body").append(o.winmask)},o.closeWin=function(t){o.timer&&(clearTimeout(o.timer),o.timer=null),a?(o.winbox.remove(),o.winmask.remove(),delete sohuHD.winboxArr[o.timespam]):(o.winbox.hide(),o.winmask.hide()),n&&e("embed,object").css("visibility","visible"),t&&t()},o.initWin=function(t){var n=o.html;"string"!=typeof n||/<|>/.test(n)?o.winbox=e(n):o.winbox=e(["<div>",n,"</div>"].join("")),a&&(sohuHD.winbox=o.winbox),o.winmask=e(""),o.winbox.hide(),e("body").append(o.winbox),o.winbox.click(function(t){e(t.target).hasClass("close")&&(o.closeWin(),t.preventDefault())}),t&&o.show()},o.show=function(){i.noMask||o.initMask(),o.winbox.show(),o.initPos(),o.onWinBoxShowed(),i.autohide&&(o.timer=setTimeout(function(){o.closeWin()},i.hidetime||0))},o.initPos=function(){if(i.offset)return o.winbox.css(i.offset),void o.winbox.css({position:n?"absolute":"fixed",zIndex:"999"});var r=o.winbox.outerWidth(),a=o.winbox.outerHeight();if(n){e("embed,object").css("visibility","hidden");var s=e(t).height()/2+e(t).scrollTop()-a/2;o.winbox.css({position:"absolute",top:s,left:e(t).width()/2-r/2,zIndex:"999"})}else o.winbox.css({position:"fixed",top:"50%",left:"50%",margin:"-"+a/2+"px 0 0 -"+r/2+"px",zIndex:"999"})};var s=(new Date).getTime();return o.timespam=s,sohuHD.winboxArr[s]=o,o},sohuHD.returnThirdLoginTmpl=function(t){try{var e=decodeURIComponent(location.href)}catch(n){var e=location.href}t=t||{};var i=t.cssName||"third-login-ico",o=[];return o.push(['<a class="',i,'" title="\u65b0\u6d6a\u5fae\u535a" href="//my.tv.sohu.com/user/thirdParty.jsp?thirdParty=sina&bru=',e,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/sina.png" width="20" height="20" alt="\u65b0\u6d6a\u5fae\u535a" /></a>'].join("")),o.push(['<a class="',i,'" title="QQ" href="//my.tv.sohu.com/user/thirdParty.jsp?thirdParty=qq&bru=',e,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/qq.png" width="20" height="20" alt="QQ" /></a>'].join("")),o.push(['<a class="',i,'" title="msn" href="//my.tv.sohu.com/user/thirdParty.jsp?thirdParty=msn&bru=',e,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/msn.png" width="20" height="20" alt="MSN" /></a>'].join("")),o.push(['<a class="',i,'" title="\u4eba\u4eba" href="//my.tv.sohu.com/user/thirdParty.jsp?thirdParty=renren&bru=',e,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/renren.png" width="20" height="20" alt=" \u4eba\u4eba" /></a>'].join("")),o.push(['<a class="',i,'" title="\u767e\u5ea6" href="//my.tv.sohu.com/user/thirdParty.jsp?thirdParty=baidu&bru=',e,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/baidu.png" width="20" height="20" alt="\u767e \u5ea6" /></a>'].join("")),o.push(['<a class="',i,'" title="\u6dd8\u5b9d" href="//my.tv.sohu.com/user/thirdParty.jsp?thirdParty=taobao&bru=',e,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/taobao.png" width="20" height="20" alt=" \u6dd8\u5b9d" /></a>'].join("")),o.push(['<a class="',i,'" title="QQ\u5fae\u535a" href="//my.tv.sohu.com/user/thirdParty.jsp?thirdParty=t.qq&bru=',e,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/tqq.png" width="20" height="20" alt="QQ\u5fae\u535a" /></a>'].join("")),o.push(['<a class="',i,'" title="\u5929\u6daf" href="//my.tv.sohu.com/user/thirdParty.jsp?thirdParty=tianya&bru=',e,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/tianya.png" width="20" height="20" alt=" \u5929\u6daf" /></a>'].join("")),o.push(['<a class="',i,'" title="\u5f00\u5fc3" href="//my.tv.sohu.com/user/thirdParty.jsp?thirdParty=kaixin&bru=',e,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/kaixin.png" width="20" height="20" alt=" \u5f00\u5fc3" /></a>'].join("")),o.push(['<a class="',i,'" title="\u98de\u4fe1" href="//my.tv.sohu.com/user/thirdParty.jsp?thirdParty=feixin&bru=',e,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/fetion.png" width="20" height="20" alt=" \u98de\u4fe1" /></a>'].join("")),t.returnArr?o:o.join("")},sohuHD.strTransform=function(t){var e=t.str.split(";"),n=[],i=t.b?" target='_blank'":"";t.n&&t.n>0&&(e=e.slice(0,t.n));for(var o=t.sub||0,r=0;r<e.length&&""!=e[r];r++)n.push(["<a href='",this.getSearchUrl(e[r],t.stype,t.ftype),"' title='",e[r],"'",i,">",sohuHD.strSub(e[r],o),"</a>"].join(""));return n.join("/")},sohuHD.getSearchUrl=function(t,e,n){var i="mts?";e=e?parseInt(e):"",n=n?n.toLowerCase():"";var o="";switch(n){case"tv":i+="&c=2";break;case"movie":i+="&c=1";break;case"doc":i+="&c=8";break;case"comic":i+="&c=16";break;case"tech":i+="&c=21"}switch(e){case 4:i+="&area=";break;case 7:i+="&cat=";break;case 10:i+="&cs=";break;case 15:i+="tv"==n||"movie"==n?"&year=":"&wd=";break;case 11:i+="&age=";break;default:i+="&wd="}return o="//so.tv.sohu.com/"+i+escape(t)}}(window,jQuery),function(t){function e(t){return W.call(t)===T}function n(t,e){var n,i=/^\w+\:\/\//;return typeof t!=s&&(t=""),typeof e!=s&&(e=""),n=(/^\/\//.test(t)?B.protocol:"")+t,n=(i.test(n)?"":e)+n,(i.test(n)?"":"/"===n.charAt(0)?F:q)+n}function i(t){return 0===n(t).indexOf(F)}function o(t){for(var e,i=-1;e=N[++i];)if(typeof e.src==s&&t===n(e.src)&&e.type!==H)return _;return P}function r(a,l){function j(t,e){return t[h]&&t[h]!==v&&"loaded"!==t[h]||e[g]?P:(t[x]=t[y]=E,_)}function T(t,e,n){if(n=!!n,n||j(t,e)){e[g]=_;for(var i in ct)if(ct[D](i)&&!ct[i][g])return;Z=_,rt()}}function B(t){e(t[f])&&(t[f](),t[f]=E)}function S(t,e){j(t,e)&&(e[p]=_,I(function(){O[e[w]].removeChild(t),B(e)},0))}function q(t,e){4===t[h]&&(t[y]=$,e[p]=_,I(function(){B(e)},0))}function F(t,n,i,o,r,a){var l=t[w];I(function(){if("item"in O[l]){if(!O[l][0])return void I(arguments.callee,25);O[l]=O[l][0]}var h=A.createElement(u);typeof i==s&&(h.type=i),typeof o==s&&(h.charset=o),e(r)&&(h[x]=h[y]=function(){r(h,t)},h.src=n,Q&&(h.async=P)),O[l].insertBefore(h,l===c?O[l].firstChild:E),typeof a==s&&(h.text=a,T(h,t,_))},0)}function N(t,e,n,i){L[t[d]]=_,F(t,e,n,i,T)}function R(t,e,n,i){var o=arguments;st&&t[p]==E?(t[p]=P,F(t,e,H,i,S)):st||t[p]==E||t[p]?st||N.apply(E,o):t[f]=function(){R.apply(E,o)}}function z(e,n,i,o){var r,a=arguments;st&&e[p]==E?(e[p]=P,r=e.xhr=C?new C("Microsoft.XMLHTTP"):new t.XMLHttpRequest,r[y]=function(){q(r,e)},r.open("GET",n),r.send("")):st||e[p]==E||e[p]?st||(L[e[d]]=_,F(e,n,i,o,E,e.xhr.responseText),e.xhr=E):e[f]=function(){z.apply(E,a)}}function U(t){if("undefined"!=typeof t&&t){t.allowDup==E&&(t.allowDup=l.dupe);var e,r=t.src,a=t.type,c=t.charset,u=t.allowDup,h=n(r,ot),f=i(h);if(typeof c!=s&&(c=E),u=!!u,!u&&(L[h]!=E||st&&ct[h]||o(h)))return void(ct[h]!=E&&ct[h][p]&&!ct[h][g]&&f&&T(E,ct[h],_));ct[h]==E&&(ct[h]={}),e=ct[h],e[w]==E&&(e[w]=it),e[g]=P,e[d]=h,at=_,!tt&&et&&f?z(e,h,a,c):!tt&&V?R(e,h,a,c):N(e,h,a,c)}}function G(t){a&&!tt&&lt.push(t),a&&!J||t()}function K(t){var e,n=[];for(e=-1;++e<t.length;)W.call(t[e])===k?n=n.concat(K(t[e])):n[n.length]=t[e];return n}a=!!a,l==E&&(l=X);var Y,Z=P,J=a&&l[m],V=J&&l.cache,tt=J&&l.order,et=J&&l.xhr,nt=l[b],it=l.which,ot=l.base,rt=$,at=P,st=_,ct={},lt=[],ut=E;return J=V||et||tt,Y={script:function(){M(ut);var t,n=K(arguments),i=Y;if(nt)for(t=-1;++t<n.length;)e(n[t])&&(n[t]=n[t]()),0===t?G(function(){U(typeof n[0]==s?{src:n[0]}:n[0])}):i=i.script(n[t]),i=i.wait();else{for(t=-1;++t<n.length;)e(n[t])&&(n[t]=n[t]());G(function(){for(t=-1;++t<n.length;)U(typeof n[t]==s?{src:n[t]}:n[t])})}return ut=I(function(){st=P},5),i},wait:function(t){M(ut),st=P,e(t)||(t=$);var n=r(a||at,l),i=n.trigger,o=function(){try{t()}catch(e){}i()};delete n.trigger;var s=function(){at&&!Z?rt=o:o()};return a&&!at?lt.push(s):G(s),n}},a?Y.trigger=function(){for(var t,e=-1;t=lt[++e];)t();lt=[]}:Y.trigger=$,Y}function a(t){var e,n={},i={UseCachePreload:"cache",UseLocalXHR:"xhr",UsePreloading:m,AlwaysPreserveOrder:b,AllowDuplicates:"dupe"},o={AppendTo:w,BasePath:"base"};for(e in i)o[e]=i[e];n.order=!!X.order;for(e in o)o[D](e)&&X[o[e]]!=E&&(n[o[e]]=t[e]!=E?t[e]:X[o[e]]);for(e in i)i[D](e)&&(n[i[e]]=!!n[i[e]]);return n[m]||(n.cache=n.order=n.xhr=P),n.which=n.which===c||n.which===l?n.which:c,n}var s="string",c="head",l="body",u="script",h="readyState",p="preloaddone",f="loadtrigger",d="srcuri",m="preload",v="complete",g="done",w="which",b="preserve",y="onreadystatechange",x="onload",D="hasOwnProperty",H="script/cache",j="[object ",T=j+"Function]",k=j+"Array]",E=null,_=!0,P=!1,A=t.document,B=t.location,C=t.ActiveXObject,I=t.setTimeout,M=t.clearTimeout,S=function(t){return A.getElementsByTagName(t)},W=Object.prototype.toString,$=function(){},O={},L={},q=/^[^?#]*\//.exec(B.href)[0],F=/^\w+\:\/\/\/?[^\/]+/.exec(q)[0],N=S(u),R=t.opera&&W.call(t.opera)==j+"Opera]",z="MozAppearance"in A.documentElement.style,Q=A.createElement(u).async===!0,X={cache:!(z||R),order:z||R||Q,xhr:_,dupe:_,base:"",which:c};X[b]=P,X[m]=_,O[c]=A.head||S(c),O[l]=S(l),t.$LAB={setGlobalDefaults:function(t){X=a(t)},setOptions:function(t){return r(P,a(t))},script:function(){return r().script.apply(E,arguments)},wait:function(){return r().wait.apply(E,arguments)}},function(t,e,n){A[h]==E&&A[t]&&(A[h]="loading",A[t](e,n=function(){A.removeEventListener(e,n,P),A[h]=v},P))}("addEventListener","DOMContentLoaded")}(window),function(t){var e={};t.tmpl=function n(t,i){var o=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):e[t]=e[t]||n(document.getElementById(t).innerHTML);return i?o(i):o}}(sohuHD),"undefined"!=typeof PassportSC&&(!function(t,e){var n=sohuHD.tmpl;t.drawPassportNewInit=function(t,i){var o=PassportCardList[t];o.getPosition=function(t,n){return"offsetLeft"==n&&(n="left"),"offsetTop"==n&&(n="top"),e(t).offset()[n]},o._drawLoginForm=function(){if(0==t){e.cookie("fee_status",null,{domain:".sohu.com",path:"/"});var r=sohuHD.waitAjaxCall.logout;if(r instanceof Array)for(var a=0;a<r.length;++a)r[a].call(sohuHD,drawPassportNewInit);messagebus.publish("com.sohu.logout",null)}i.unloginTmpl&&(o.cElement.innerHTML=n(i.unloginTmpl,{index:t}))},o._drawPassportCard=function(){if(0==t){var e=sohuHD.waitAjaxCall.login;if(e instanceof Array)for(var r=0;r<e.length;++r)e[r].call(sohuHD);messagebus.publish("com.sohu.login",null)}i.loginTmpl&&(o.cElement.innerHTML=n(i.loginTmpl,{index:t}))},o.drawPassportWait=function(t){o.cElement.innerHTML=i.waitTmpl||"<div class='loading'>\u6b63\u5728\u767b\u5f55,\u8bf7\u7a0d\u5019...</div>"},o.drawPassportInfo=function(){},o.drawPassport(i)}}(window,jQuery),$(function(){if($("#sFormA").length>0){$("#sKeyA").val();$("#sFormA").submit(function(){return sohuHD.redirect("//so.tv.sohu.com/mts?wd="+escape($.trim($("#sKeyA").val())),"_blank"),!1})}})),sohuHD.getScript("//tv.sohu.com/upload/static/plugin/sub.js"),function(t){function e(){}function n(t){this.content=t||"",this.helper=new e}t=t||this;var i=function(t,e,n){if(n&&extend(t,n),e&&"object"==typeof e)for(var i in e)t[i]=e[i];return t},o={h:{name:"helper",dir:"helper"}},r=/(^\s*)|(\s*$)/g,a="".trim?function(t){return t.trim()}:function(t){return(t||"").replace(r,"")};i(e.prototype,{trim:a,dateFormat:function(t,e){"[object Date]"!={}.toString.call(t)&&(t=new Date(parseInt(t)));var n={"y+":t.getFullYear(),"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var i in n)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,("00"+n[i]).substr(~RegExp.$1.length+1)));return e},timeFormat:function(t,e){t/=1;var n={"m+":Math.floor(t/60),"s+":t%60};e=e.replace(/(m+)/,function(t,e){var i=e,o=(""+n["m+"]).length;return e&&o>e.length&&(i=new Array(o+1).join("m")),i});for(var i in n)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,("00"+n[i]).substr(~RegExp.$1.length+1)));return e},truncate:function(t,e,n,i){return t=t||"",t.length<=e?t:(t=t.substr(0,e),n&&(t+=i||"..."),t)},truncateCN:function(t,e,n,i){t=t||"";var o=/[^\x00-\xff]/g;if(n=n||!1,i=i||"...",e>0&&t.replace(o,"mm").length>e)for(var r=Math.floor(e/2),a=r;a<t.length;a++)if(t.substr(0,a).replace(o,"mm").length>=e)return t.substr(0,a)+(n?i:"");return t},numberGroup:function(t,e,n){if(t=t||"1234567345345.000",e=e||3,n=n||",",t=""+t,!/^(\+|-)?(\d+)(\.\d+)?$/.test(t))return t;for(var i=RegExp.$1,o=RegExp.$2,r=RegExp.$3,a=(new RegExp).compile("(\\d+)(\\d{"+e+"})("+n+"|$)");a.test(o);)o=o.replace(a,"$1"+n+"$2$3");return i+o+r},escapeXSS:function(t){return(t||"").replace(/</g,"&lt;").replace(/>/g,"&gt;")}}),i(n,{render:function(t,e){return new n(t).render(e)},registHelper:function(){var t={},n=[].slice.call(arguments);2==n.length&&"string"==typeof n[0]?t[n[0]]=n[1]:"1"==n.length&&"object"==typeof n[0]&&(t=n[0]),t&&i(e.prototype,t)}}),i(n.prototype,{version:"1.0",setContent:function(t){this.fn=null,this.directive=null,this.content=t},render:function(t){this.compile();var e,n,i=this.directive||{};for(var r in o){if(n=o[r],e="undefined"==typeof i[r]?n.name:i[r],t[e])throw new Error("\u6307\u4ee4{ "+e+" }\u51b2\u7a81...");t[e]=this[n.dir]}var a=this.fn(t);for(var r in o)n=o[r],e="undefined"==typeof i[r]?n.name:i[r],delete t[e];return a},compile:function(){if(!this.fn){this.directive={};var t=this,e=this.content.replace(/[\r\t\n]/g," ").replace(/<%@(.*?)%>/g,function(e,n){if(n){var e=n.split(":");e&&e.length&&(t.directive[a(e[0])]=a(e[1]))}return""}).replace(/<%!--(.*?)--%>/g,"").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'"),n="var p = [];with(obj){p.push('"+e+"');}return p.join('');";this.fn=new Function("obj",n)}},registHelper:function(){var t=this[o.h.dir],e=[].slice.call(arguments);2==e.length&&"string"==typeof e[0]?t[e[0]]=e[1]:"1"==e.length&&"object"==typeof e[0]&&i(t,e[0])}}),t.Template=n}(sohuHD);